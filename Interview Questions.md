Domain: Network Security
I have a firewall set up on my network that is supposed to block SSH connections, but it is letting connections through. How would I debug this?

In my project I set up network security group rules to block all SSH traffic coming in except if its coming from my home IP address to the Jumpbox. The Jumpbox was set up in order to access all the virtual machines in the resource group via SSH. If I tried connecting via SSH to my Web-1,Web-2, or Elk VM without the jumpbox then the connection would fail. This would happen because the network security group rules are set up so the JumpBox is the only machine capable of accessing the rest of the network via SSH. The JumpBox is also the only machine that will respond to SSH traffic coming from the public internet.

If one of my VM's accepted SSH connections, I would initially assume it is due to a misconfiguration when troubleshooting settings and configurations on the remote system. I would double check my network security group rules set in place and ensure they are set correctly for Network. I will then check my JumpBox machine in azure and make sure all VM's are up and running. Next I would check my own external IP, and the ssh_config on the Jumpbox to get the port that the SSH daemon is running on. I would use this information to match up with my network security rules to ensure they are correct. Next I would use systemctl status command to make sure the SSH daemon is running with no errors. If i'm still seeing errors then i would then check all of my Playbook.yml files and make sure my host.config files matup.

The configuration used in my Project does not make the virtual network immune to attacks. I do believe by adding the Jumpbox as the central point for all connections and blocking all other traffic, but my own makes it easier to monitor and figure out the issues when they arise. I will also use strict access control policies to try and make the attack surface even smaller.


Cloud Security: Containers
When should an employee or company look into using containers in their cloud deployment, and what are the security benefits of doing so?

In my project I used containers for a wide range of services and purposes. Initially I download an ansible container from Docker on to my JumpBox to administer all the other virtual machines on the network. I wrote playbooks to configure the virtual machines and run container images of various applications, such as an ELK Stack as an IDS/log monitoring, DVWA web servers for our test web applications.

Like anything else, containers have a list of benefits and disadvantages, but I believe in a cloud environment they are awesome to use. A list of benefits include: segmentations, isolated networking, consistent configuration, quick setup, up to date system, and a virtualization layer between the host OS and the OS within the container. All of these benefits are applied and seen in my project.

In my project I used ansible playbooks to configure the containers running on all the virtual machines in my Resource Group. THese playbooks would be written to run a series of tasks, each of which would use systemd to start the docker, configure any necessary settings and download and run a specific container image. Once the playbook was run successfully, I needed to check if they were running on the VM's. Using DVWA and ELK Stack I would navigate to the IP or webpage of the container in my web browser. If the ansible container was on my JumpBox i would run sudo docker ps -a to see a list of all the containers currently installed or running.

To achieve the same result we would first have to download the tools on our local host OS. Usually when the applications are installed on your local host OS it is cheaper because less overhead would be necessary to run the apps. Since virtual machines work differently with their own OS, they are more secure and more isolated than containers. THe disadvantages of VMs is hardware and more complex configuration. Lostly the disadvantages of running the software on your local host OS is a severe loss in security and isolation, as well as, more complex maintenance of dependencies, libraries, and their versions. You would also have to constantly update and patch your applications which could be prone to errors.


Logging and Monitoring: Setting Alerts in a New Monitoring System
What alerts would I set in a new monitoring system and how would I determine that?

I configured two similar web servers to host DVWA containers and they were not publicly accessible. These virtual machines were behind a load balance, which was publicly accessible. I also had a JumpBox, which could access all VM's on the network, but was only accessible from my IP for admin work and ansible. I also configured an ELK Stack VM for monitoring and log collections for my web servers. This info was seen in Kibana and was publicly accessible from my IP

The VM's that are not publicly accessible should have alerts about any traffic coming from outside the network to the VM. The web servers should have an alert of any connection over port 80 or 22 from outside of the virtual networks. Could also have alerts for any SYN scans or any other type of reconnaissance. Even if potential enumeration traffic comes from within the network it is possible there is another machine on the network that is compromised. I would also try to use Kibana to make alerts for the web servers to alert me if any external IP ran a port can or attempted connection. For my Jump Box, that is publicly accessible, I would set an alert to notify me of a failed SSH login. Somethings alerts do not recognize or account for is log tampering, phished credentials, or other attacks to the admin channels
